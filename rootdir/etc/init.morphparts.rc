on boot

# USB Fastcharge
    chown system system /sys/kernel/fast_charge/force_fast_charge
    chmod 0660 /sys/kernel/fast_charge/force_fast_charge

# KCal
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_cont
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_enable
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_hue
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_sat
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_val
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal_min
    chown system system /sys/devices/platform/kcal_ctrl.0/kcal
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_cont
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_enable
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_hue
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_sat
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_val
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal_min
    chmod 660 /sys/devices/platform/kcal_ctrl.0/kcal

# Vibration
    chown system system /sys/class/leds/vibrator/vmax_override
    chmod 0660 /sys/class/leds/vibrator/vmax_override
    write /sys/class/leds/vibrator/vmax_override 1
    chown system system /sys/class/leds/vibrator/vmax_mv_user
    chmod 0660 /sys/class/leds/vibrator/vmax_mv_user
    chown system system /sys/class/leds/vibrator/vmax_mv_strong
    chmod 0660 /sys/class/leds/vibrator/vmax_mv_strong
    chown system system /sys/class/leds/vibrator/vmax_mv_call
    chmod 0660 /sys/class/leds/vibrator/vmax_mv_call
    chown system system /sys/devices/virtual/timed_output/vibrator/vtg_level
    chmod 0660 /sys/devices/virtual/timed_output/vibrator/vtg_level

# Audio
    chown system system /sys/kernel/sound_control/headphone_gain
    chown system system /sys/kernel/sound_control/mic_gain
    chown system system /sys/kernel/sound_control/speaker_gain
    chown system system /sys/kernel/sound_control/earpiece_gain
    chown system system /sys/kernel/sound_control/speaker_gain
    chmod 0660 /sys/kernel/sound_control/headphone_gain
    chmod 0660 /sys/kernel/sound_control/mic_gain
    chmod 0660 /sys/kernel/sound_control/speaker_gain
    chmod 0660 /sys/kernel/sound_control/earpiece_gain
    chmod 0660 /sys/kernel/sound_control/speaker_gain

# Msm Thermal
    chown system system /sys/module/msm_thermal/parameters/enabled
    chmod 0660 /sys/module/msm_thermal/parameters/enabled
    chown system system /sys/module/msm_thermal/core_control/enabled
    chmod 0660 /sys/module/msm_thermal/core_control/enabled
    chown system system /sys/module/msm_thermal/vdd_restriction/enabled
    chmod 0660 /sys/module/msm_thermal/vdd_restriction/enabled

# Touchboost
    chown system system /sys/module/msm_performance/parameters/touchboost
    chmod 0660 /sys/module/msm_performance/parameters/touchboost

# FPS Info
    chown system graphics /sys/class/drm/sde-crtc-0/measured_fps
    chmod 0666 /sys/class/drm/sde-crtc-0/measured_fps

# Backlight dimmer
    chown system system /sys/module/mdss_fb/parameters/backlight_dimmer
    chmod 0660 /sys/module/mdss_fb/parameters/backlight_dimmer

# Flashlight
    chown root system /sys/class/leds/led:torch_0/max_brightness
    chmod 0660 /sys/class/leds/led:torch_0/max_brightness
    chown root system /sys/class/leds/led:torch_1/max_brightness
    chmod 0660 /sys/class/leds/led:torch_1/max_brightness
    write /sys/class/leds/led:torch_1/max_brightness 0

# High audio quality
    chown system system /sys/module/wcd9335_dlkm/parameters/huwifi_mode
    chmod 0660 /sys/module/wcd9335_dlkm/parameters/huwifi_mode

# TCP 
# westwood
on property:persist.tcp.profile=0
    write /proc/sys/net/ipv4/tcp_congestion_control westwood
# cubic
on property:persist.tcp.profile=1
    write /proc/sys/net/ipv4/tcp_congestion_control cubic
# reno
on property:persist.tcp.profile=2
    write /proc/sys/net/ipv4/tcp_congestion_control reno
# bic
on property:persist.tcp.profile=3
    write /proc/sys/net/ipv4/tcp_congestion_control bic
# highspeed
on property:persist.tcp.profile=4
    write /proc/sys/net/ipv4/tcp_congestion_control highspeed
# htcp
on property:persist.tcp.profile=5
    write /proc/sys/net/ipv4/tcp_congestion_control htcp

# LKM
# DEFAULT
on property:persist.lkm.profile=0
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "18432,23040,27648,32256,36864,46080"
# Very light
on property:persist.lkm.profile=1
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "9149,18298,27447,36596,45745,54894"
# Light
on property:persist.lkm.profile=2
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "18298,27447,36596,45745,54894,64043"
# Medium
on property:persist.lkm.profile=3
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "27447,36596,45745,54894,64043,82341"
# Aggressive
on property:persist.lkm.profile=4
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "18298,27447,54894,91490,128086,137235"
# Very Aggressive
on property:persist.lkm.profile=5
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk "27447,36596,45745,100639,137235,146384"
# Disable
on property:persist.lkm.profile=6
    write /sys/module/lowmemorykiller/parameters/enable_adaptive_lmk 0

# Initialization
on property:sys.boot_completed=1

# Set default profile on first boot
    exec u:r:init:s0 root root -- /vendor/bin/init.morphparts.sh
    exec u:r:magisk:s0 root root -- /vendor/bin/init.morphparts.sh

# zero
on property:persist.cpucore.profile=0
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 1
    write /sys/devices/system/cpu/cpu4/online 1
    write /sys/devices/system/cpu/cpu5/online 1
    write /sys/devices/system/cpu/cpu6/online 1
    write /sys/devices/system/cpu/cpu7/online 1
# one
on property:persist.cpucore.profile=1
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 1
    write /sys/devices/system/cpu/cpu4/online 1
    write /sys/devices/system/cpu/cpu5/online 1
    write /sys/devices/system/cpu/cpu6/online 1
    write /sys/devices/system/cpu/cpu7/online 0
# two
on property:persist.cpucore.profile=2
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 1
    write /sys/devices/system/cpu/cpu4/online 1
    write /sys/devices/system/cpu/cpu5/online 1
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0
# three
on property:persist.cpucore.profile=3
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 1
    write /sys/devices/system/cpu/cpu4/online 1
    write /sys/devices/system/cpu/cpu5/online 0
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0
# four
on property:persist.cpucore.profile=4
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 1
    write /sys/devices/system/cpu/cpu4/online 0
    write /sys/devices/system/cpu/cpu5/online 0
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0
# five
on property:persist.cpucore.profile=5
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 1
    write /sys/devices/system/cpu/cpu3/online 0
    write /sys/devices/system/cpu/cpu4/online 0
    write /sys/devices/system/cpu/cpu5/online 0
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0
# six
on property:persist.cpucore.profile=6
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 1
    write /sys/devices/system/cpu/cpu2/online 0
    write /sys/devices/system/cpu/cpu3/online 0
    write /sys/devices/system/cpu/cpu4/online 0
    write /sys/devices/system/cpu/cpu5/online 0
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0
# seven
on property:persist.cpucore.profile=7
    write /sys/devices/system/cpu/cpu0/online 1
    write /sys/devices/system/cpu/cpu1/online 0
    write /sys/devices/system/cpu/cpu2/online 0
    write /sys/devices/system/cpu/cpu3/online 0
    write /sys/devices/system/cpu/cpu4/online 0
    write /sys/devices/system/cpu/cpu5/online 0
    write /sys/devices/system/cpu/cpu6/online 0
    write /sys/devices/system/cpu/cpu7/online 0

# Initialization
on property:sys.boot_completed=1
   chown system system /sys/module/cpu_boost/parameters/input_boost_enabled
   chown system system /sys/module/cpu_boost/parameters/input_boost_freq
   chown system system /sys/module/cpu_boost/parameters/input_boost_ms
   chmod 0644 /sys/module/cpu_boost/parameters/input_boost_enabled
   chmod 0644 /sys/module/cpu_boost/parameters/input_boost_freq
   chmod 0644 /sys/module/cpu_boost/parameters/input_boost_ms

# Set default profile on first boot
    exec u:r:init:s0 root root -- /vendor/bin/init.morphparts.sh
    exec u:r:magisk:s0 root root -- /vendor/bin/init.morphparts.sh

# Disable
on property:persist.cpuboost.profile=0
    write /sys/module/cpu_boost/parameters/input_boost_enabled 0

# Low (default profile)
on property:persist.cpuboost.profile=1
    write /sys/module/cpu_boost/parameters/input_boost_enabled 1 
    write /sys/module/cpu_boost/parameters/input_boost_freq "0:1036800 1:1036800 2:1036800 3:1036800 4:1036800 5:1036800 6:1036800 7:1036800"
    write /sys/module/cpu_boost/parameters/input_boost_ms 400

# Medium
on property:persist.cpuboost.profile=2
    write /sys/module/cpu_boost/parameters/input_boost_enabled 1
    write /sys/module/cpu_boost/parameters/input_boost_freq "0:1401600 1:1401600 2:1401600 3:1401600 4:1401600 5:1401600 6:1401600 7:1401600"
    write /sys/module/cpu_boost/parameters/input_boost_ms 750

# High
on property:persist.cpuboost.profile=3
    write /sys/module/cpu_boost/parameters/input_boost_enabled 1
    write /sys/module/cpu_boost/parameters/input_boost_freq "0:1804800 1:1804800 2:1689600 3:1689600 4:1401600 5:1401600 6:1401600 7:1401600"
    write /sys/module/cpu_boost/parameters/input_boost_ms 1500

# Initialization
on property:sys.boot_completed=1
   chown system system /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost
   chmod 0644 /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost

# Set default profile on first boot
    exec u:r:init:s0 root root -- /vendor/bin/init.morphparts.sh
    exec u:r:magisk:s0 root root -- /vendor/bin/init.morphparts.sh
    exec u:r:su:s0 root root -- /vendor/bin/init.morphparts.sh

# Disable (default profile)
on property:persist.gpuboost.profile=0
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost 0
    write /sys/module/adreno_idler/parameters/adreno_idler_active "Y"
    write /sys/module/adreno_idler/parameters/adreno_idler_idleworkload "10000"
    write /sys/module/adreno_idler/parameters/adreno_idler_downdifferential "35"
    write /sys/module/adreno_idler/parameters/adreno_idler_idlewait "25"

# Low
on property:persist.gpuboost.profile=1
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost 1
    write /sys/module/adreno_idler/parameters/adreno_idler_active "Y"
    write /sys/module/adreno_idler/parameters/adreno_idler_idleworkload "6000"
    write /sys/module/adreno_idler/parameters/adreno_idler_downdifferential "15"
    write /sys/module/adreno_idler/parameters/adreno_idler_idlewait "25"

# Medium
on property:persist.gpuboost.profile=2
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost 2
    write /sys/module/adreno_idler/parameters/adreno_idler_active "Y"
    write /sys/module/adreno_idler/parameters/adreno_idler_idleworkload "5000"
    write /sys/module/adreno_idler/parameters/adreno_idler_downdifferential "15"
    write /sys/module/adreno_idler/parameters/adreno_idler_idlewait "15"

# High
on property:persist.gpuboost.profile=3
    write /sys/devices/soc/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/adrenoboost 3
    write /sys/module/adreno_idler/parameters/adreno_idler_active "N"

# Enable cpucore support
   setprop tcp.support 1
   setprop lkm.support 1
   setprop cpucore.support 1
   setprop cpuboost.support 1
   setprop gpuboost.support 1
